# UIç»„ä»¶è§„æ ¼è¯´æ˜ä¹¦ï¼ˆä¿®æ­£ç‰ˆ v2.0ï¼‰

> ç‰ˆæœ¬ï¼šv2.0ï¼ˆåŸºäºç”¨æˆ·è¯¦ç»†ä¿®æ­£ï¼‰  
> æ—¥æœŸï¼š2026-02-21  
> ä¸»é¢˜ï¼šæµ…è‰²é…è‰²æ–¹æ¡ˆ  
> æ‰˜ç›˜æ¶æ„ï¼šå‚ç›´æ‰˜ç›˜ + æ°´å¹³æ‰˜ç›˜

---

## 1. æ‰˜ç›˜ç³»ç»Ÿæ•´ä½“æ¶æ„ï¼ˆé‡å¤§ä¿®æ­£ï¼‰

### 1.1 æ‰˜ç›˜ç»“æ„ï¼ˆåŒæ‰˜ç›˜è®¾è®¡ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å±å¹•/çª—å£åŒºåŸŸ                        â”‚
â”‚                                                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚         æ°´å¹³æ‰˜ç›˜ (Horizontal Tray)              â”‚   â”‚
â”‚   â”‚     é«˜åº¦ = é½¿è½®é«˜åº¦çš„ 1/3 (çº¦ 13-14px)         â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚   â”‚  â”‚ çª—å£å¯„å­˜æ   â”‚    è¿æ¥çŠ¶æ€æŒ‰é’®             â”‚ â”‚   â”‚
â”‚   â”‚  â”‚ (å¯æ»šåŠ¨)    â”‚    (åœ†è§’çŸ©å½¢ï¼Œæ–‡å­—+è‰²å—)    â”‚ â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â”‚   â”Œâ”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚é½¿â”‚ â”‚         å‚ç›´æ‰˜ç›˜ (Vertical Tray)          â”‚   â”‚
â”‚   â”‚è½®â”‚ â”‚      å®½åº¦ = é½¿è½®å®½åº¦ (çº¦ 40px)             â”‚   â”‚
â”‚   â”‚  â”‚ â”‚                                         â”‚   â”‚
â”‚   â”‚  â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚  â”‚ â”‚  â”‚      é¡¹ç›®é€‰æ‹©æ                   â”‚   â”‚   â”‚
â”‚   â”‚  â”‚ â”‚  â”‚   (æ‹–æ‹½æ»šåŠ¨ï¼Œæ— æ»šåŠ¨æ¡)          â”‚   â”‚   â”‚
â”‚   â”‚  â”‚ â”‚  â”‚   [é¡¹ç›®1][é¡¹ç›®2][é¡¹ç›®3]...      â”‚   â”‚   â”‚
â”‚   â”‚  â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â”‚  â”‚ â”‚                                         â”‚   â”‚
â”‚   â”‚  â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚   â”‚  â”‚ â”‚  â”‚      çª—å£é€‰æ‹©æ                   â”‚   â”‚   â”‚
â”‚   â”‚  â”‚ â”‚  â”‚   (å›ºå®š6ä¸ªç±»å‹ï¼Œæ— æŠ˜å )          â”‚   â”‚   â”‚
â”‚   â”‚  â”‚ â”‚  â”‚   [è¾“å…¥][æ—¥å¿—][ç¼–è¾‘å™¨]          â”‚   â”‚   â”‚
â”‚   â”‚  â”‚ â”‚  â”‚   [Git][åˆ†æ”¯][æ–‡ä»¶]             â”‚   â”‚   â”‚
â”‚   â”‚  â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚   â”‚  â”‚ â”‚                                         â”‚   â”‚
â”‚   â””â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 æ‰˜ç›˜å±•å¼€é€»è¾‘ï¼ˆé‡å¤§ä¿®æ­£ï¼‰

```typescript
interface TrayExpansionSystem {
  // è§¦å‘æ–¹å¼
  trigger: {
    type: 'hoverGear';              // æ‚¬æµ®åœ¨é½¿è½®ä¸Š
    delay: 0ms;                     // ç«‹å³è§¦å‘ï¼ˆæ— å»¶è¿Ÿï¼‰
  };
  
  // å±•å¼€å†…å®¹
  content: {
    verticalTray: true;             // å§‹ç»ˆå±•å¼€å‚ç›´æ‰˜ç›˜
    horizontalTray: true;           // å§‹ç»ˆå±•å¼€æ°´å¹³æ‰˜ç›˜
  };
  
  // å±•å¼€æ–¹å‘è‡ªé€‚åº”
  direction: {
    // æ ¹æ®é½¿è½®åœ¨å±å¹•çš„ä½ç½®è‡ªåŠ¨è°ƒæ•´
    strategy: 'autoAdjust';
    
    // å‚ç›´æ‰˜ç›˜å±•å¼€æ–¹å‘
    vertical: {
      whenGearNearTop: 'down';      // é½¿è½®é è¿‘é¡¶éƒ¨ï¼Œå‘ä¸‹å±•å¼€
      whenGearNearBottom: 'up';    // é½¿è½®é è¿‘åº•éƒ¨ï¼Œå‘ä¸Šå±•å¼€
      whenGearInMiddle: 'auto';    // è‡ªåŠ¨é€‰æ‹©ï¼ˆä¼˜å…ˆå‘ä¸‹ï¼Œç©ºé—´ä¸è¶³æ—¶å‘ä¸Šï¼‰
    };
    
    // æ°´å¹³æ‰˜ç›˜å±•å¼€æ–¹å‘
    horizontal: {
      whenGearNearLeft: 'right';    // é½¿è½®é è¿‘å·¦ä¾§ï¼Œå‘å³å±•å¼€
      whenGearNearRight: 'left';    // é½¿è½®é è¿‘å³ä¾§ï¼Œå‘å·¦å±•å¼€
      whenGearInMiddle: 'auto';    // è‡ªåŠ¨é€‰æ‹©ï¼ˆä¼˜å…ˆå‘å³ï¼Œç©ºé—´ä¸è¶³æ—¶å‘å·¦ï¼‰
    };
  };
  
  // å±•å¼€å°ºå¯¸
  dimensions: {
    // å‚ç›´æ‰˜ç›˜
    verticalTray: {
      width: 'gearWidth';           // å®½åº¦ = é½¿è½®å®½åº¦ (40px)
      height: 'auto';               // é«˜åº¦è‡ªé€‚åº”
      maxHeight: 'screenEdge';      // æœ€å¤§é«˜åº¦ = è§¦åŠå±å¹•è¾¹ç¼˜
      minHeight: 200px;            // æœ€å°é«˜åº¦
    };
    
    // æ°´å¹³æ‰˜ç›˜
    horizontalTray: {
      height: 'gearHeightThird';    // é«˜åº¦ = é½¿è½®é«˜åº¦çš„1/3 (çº¦13-14px)
      width: 'auto';                  // å®½åº¦è‡ªé€‚åº”
      maxWidth: '30%screen';          // æœ€å¤§å®½åº¦ = å±å¹•å®½åº¦çš„30%
      minWidth: 150px;               // æœ€å°å®½åº¦
    };
  };
  
  // å°ºå¯¸åŠ¨æ€è°ƒæ•´
  dynamicSizing: {
    // é¡¹ç›®é€‰æ‹©æ é«˜åº¦æ ¹æ®é¡¹ç›®æ•°é‡è°ƒæ•´
    projectSection: {
      calculation: 'projectCount * itemHeight + headerHeight';
      itemHeight: 46px;               // æ¯ä¸ªé¡¹ç›®é¡¹é«˜åº¦ï¼ˆåŒ…å«é—´è·ï¼‰
      headerHeight: 40px;            // å¤´éƒ¨é«˜åº¦
      constraint: 'maxToScreenEdge'; // çº¦æŸï¼šä¸è¶…è¿‡å±å¹•è¾¹ç¼˜
    };
    
    // çª—å£å¯„å­˜æ å®½åº¦æ ¹æ®çª—å£æ•°é‡è°ƒæ•´
    registrySection: {
      calculation: 'windowCount * itemWidth + padding';
      itemWidth: 100px;               // æ¯ä¸ªçª—å£é¡¹å®½åº¦
      constraint: 'maxTo30%screen';   // çº¦æŸï¼šä¸è¶…è¿‡å±å¹•å®½åº¦30%
      overflow: 'horizontalScroll';   // è¶…å‡ºæ—¶æ°´å¹³æ»šåŠ¨
    };
  };
  
  // æ”¶èµ·é€»è¾‘
  collapse: {
    trigger: 'mouseLeaveBothTrays';   // é¼ æ ‡ç¦»å¼€ä¸¤ä¸ªæ‰˜ç›˜åŒºåŸŸ
    delay: 500ms;                     // å»¶è¿Ÿ500msæ”¶èµ·
    exception: 'interactingWithTray';  // å¦‚æœæ­£åœ¨ä¸æ‰˜ç›˜äº¤äº’ï¼ˆå¦‚æ‹–æ‹½ï¼‰ï¼Œä¸æ”¶èµ·
  };
}
```

### 1.3 é½¿è½®äº¤äº’ä¿®æ­£

```typescript
interface GearInteraction {
  // å·¦é”®å•å‡» - å”¤å‡ºè®¾ç½®èœå•
  onLeftClick: {
    action: 'openSettingsMenu';
    menuItems: [
      { label: 'åå¥½è®¾ç½®', action: 'openPreferences', icon: 'Settings' },
      { label: 'ä¸»é¢˜åˆ‡æ¢', action: 'toggleTheme', icon: 'Palette' },
      { type: 'separator' },
      { label: 'å¿«æ·é”®', action: 'openShortcuts', icon: 'Keyboard' },
      { label: 'å…³äº', action: 'openAbout', icon: 'Info' },
    ];
  };
  
  // æ‚¬æµ® - å±•å¼€æ‰˜ç›˜ï¼ˆè¿™æ˜¯ä¸»è¦è§¦å‘æ–¹å¼ï¼‰
  onHover: {
    action: 'expandTrays';
    delay: 0ms;                           // ç«‹å³è§¦å‘
    expandBothTrays: true;              // åŒæ—¶å±•å¼€å‚ç›´å’Œæ°´å¹³æ‰˜ç›˜
  };
  
  // å³é”® - å¿«æ·èœå•
  onRightClick: {
    action: 'openQuickMenu';
    menuItems: [
      { label: 'é”å®šæ‰˜ç›˜ä½ç½®', action: 'lockTrayPosition', icon: 'Lock' },
      { label: 'è‡ªåŠ¨éšè—', action: 'toggleAutoHide', icon: 'Eye' },
      { type: 'separator' },
      { label: 'è‡ªå®šä¹‰æ‰˜ç›˜...', action: 'customizeTray', icon: 'Layout' },
    ];
  };
  
  // æ‹–æ‹½ - è°ƒæ•´æ‰˜ç›˜ä½ç½®
  onDrag: {
    action: 'repositionTrays';
    constraint: 'screenBoundary';         // çº¦æŸåœ¨å±å¹•è¾¹ç•Œå†…
    snapToEdges: true;                    // å¸é™„åˆ°å±å¹•è¾¹ç¼˜
    snapDistance: 20px;                   // å¸é™„è·ç¦»
  };
}
```

---

**ä¸‹ä¸€æ­¥é€‰æ‹©ï¼š**

1. **ç»§ç»­è®¾è®¡å…¶ä»–ç»„ä»¶**ï¼ˆè¾“å…¥æ¡†ã€å¤šåŠŸèƒ½ç¼–è¾‘å™¨ã€æ–‡ä»¶ç®¡ç†å™¨ç­‰ï¼‰
2. **æ•´ç†å·²å®Œæˆçš„è§„æ ¼ä¸ºå®Œæ•´æŠ¥å‘Š**ï¼ˆæ±‡æ€»å½“å‰æ‰€æœ‰è®¾è®¡ï¼‰
3. **ä¿®æ­£å·²æœ‰è®¾è®¡**ï¼ˆæ ¹æ®ç”¨æˆ·åé¦ˆè°ƒæ•´å½“å‰è§„æ ¼ï¼‰

**è¯·å›å¤ 1ã€2 æˆ– 3ï¼Œæˆ‘å°†ç«‹å³æ‰§è¡Œï¼** ğŸ¯